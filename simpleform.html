<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shining Resume Builder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Razorpay -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <!-- html2pdf -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        body{
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg,#1d2671,#c33764);
            margin:0;
            padding:20px;
            overflow-y: scroll;
        }
        .container{
            max-width:1100px;
            margin:auto;
            background:#fff;
            padding:25px;
            border-radius:15px;
            box-shadow:0 0 25px gold;
            border: 10px solid;
            border-image: linear-gradient(45deg,red,orange,yellow,green,blue,purple) 1;
        }
        h2{
            text-align:center;
            color:#c33764;
            text-shadow:0 0 10px gold;
        }
        label{
            font-weight:600;
        }
        input, textarea{
            width:100%;
            padding:10px;
            margin-bottom:10px;
            border-radius:6px;
            border:1px solid #ccc;
        }
        textarea{
            resize:none
        }
        button{
            padding:10px 18px;
            border:none;
            border-radius:6px;
            cursor:pointer;
            font-weight:600;
        }
        .btn-add{
            background:#27ae60;
            color:#fff
        }
        .btn-del{
            background:#e74c3c;
            color:#fff
        }
        .btn-preview{
            background:#2980b9;
            color:#fff
        }
        .btn-pay{
            background:#f39c12;
            color:#fff
        }
        table{
            width:100%;
            border-collapse:collapse;
            margin-top:10px;
        }
        table th, table td{
            border:1px solid #000;
            padding:8px;
            text-align:center;
        }
        #resumePreview{
            display:none;
            position:fixed;
            inset:0;
            background:rgba(0,0,0,0.6);
            overflow-y: scroll;
        }
        .preview-box{
            background:#fff;
            width:80%;
            margin:40px auto;
            padding:20px;
            border:6px solid;
            border-image:linear-gradient(45deg,red,orange,yellow,green,blue,purple) 1;
            box-shadow:0 0 30px gold;
        }
        .preview-header{
            display:flex;
            justify-content:space-between;
        }
        .preview-header img{
            width:120px;
            height:140px;
            object-fit:cover;
            border:3px solid #000;
        }
        .close{
            background:red;
            color:white;
        }
        @media (max-width: 768px) {
            .container{
                padding:15px;
                margin:10px;
            }
            .preview-box{
                width:95%;
                margin:20px auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>✨ Shining Resume Builder ✨</h2>
        <label>Full Name</label>
        <input id="name">
        <label>Date of Birth</label>
        <input type="date" id="dob">
        <label>Email</label>
        <input id="email">
        <label>Mobile</label>
        <input id="mobile">
        <label>Address</label>
        <textarea id="address"></textarea>
        <label>Career Objective</label>
        <textarea id="objective"></textarea>
        <label>Passport Photo</label>
        <input type="file" id="photo" accept="image/*">
        <h3>Academic Qualification</h3>
        <table id="eduTable">
            <tr>
                <th>Course</th><th>Institution</th><th>Year</th><th>Percentage</th><th>Action</th>
            </tr>
        </table>
        <button class="btn-add" onclick="addRow()">Add Row</button>
        <label>Skills</label>
        <textarea id="skills"></textarea>
        <label>Experience</label>
        <textarea id="experience"></textarea>
        <label>Declaration</label>
        <textarea id="declaration">I hereby declare that the above information is true.</textarea>
        <label>Place</label>
        <input id="place">
        <label>Date</label>
        <input type="date" id="date">
        <br><br>
        <button class="btn-preview" onclick="previewResume()">Preview</button>
        <button class="btn-pay" onclick="payNow()">Pay & Download PDF</button>
    </div>
    <!-- PREVIEW -->
    <div id="resumePreview">
        <div class="preview-box" id="resumeContent">
            <div class="preview-header">
                <div>
                    <h2 id="pname"></h2>
                    <p id="pemail"></p>
                    <p id="pmobile"></p>
                </div>
                <img id="pphoto">
            </div>
            <hr>
            <p><b>DOB:</b> <span id="pdob"></span></p>
            <p><b>Address:</b> <span id="paddress"></span></p>
            <p><b>Objective:</b> <span id="pobjective"></span></p>
            <h3>Education</h3>
            <div id="pedu"></div>
            <p><b>Skills:</b> <span id="pskills"></span></p>
            <p><b>Experience:</b> <span id="pexp"></span></p>
            <p><b>Declaration:</b> <span id="pdec"></span></p>
            <p><b>Place:</b> <span id="pplace"></span></p>
            <p><b>Date:</b> <span id="pdate"></span></p>
            <button class="close" onclick="closePreview()">Close</button>
        </div>
    </div>
    <script>
        function addRow(){
            let t=document.getElementById("eduTable");
            let r=t.insertRow();
            r.innerHTML=`<td><input></td><td><input></td><td><input></td><td><input></td><td><button class="btn-del" onclick="this.parentElement.parentElement.remove()">X</button></td>`;
        }
        function previewResume(){
            pname.innerText=name.value;
            pemail.innerText=email.value;
            pmobile.innerText=mobile.value;
            pdob.innerText=dob.value;
            paddress.innerText=address.value;
            pobjective.innerText=objective.value;
            pskills.innerText=skills.value;
            pexp.innerText=experience.value;
            pdec.innerText=declaration.value;
            pplace.innerText=place.value;
            pdate.innerText=date.value;
            let eduHTML="<table>"+eduTable.innerHTML+"</table>";
            pedu.innerHTML=eduHTML;
            let file=photo.files[0];
            if(file){
                let r=new FileReader();
                r.onload=e=>pphoto.src=e.target.result;
                r.readAsDataURL(file);
            }
            resumePreview.style.display="block";
        }
        function closePreview(){
            resumePreview.style.display="none";
        }
        function payNow(){
            let options={
                key:"rzp_live_S5ex0BvHGJcmo6", // Replace with your Razorpay key
                amount:10,
                currency:"INR",
                name:"Resume Download",
                description:"PDF Resume",
                handler:function(){
                    downloadPDF();
                }
            };
            new Razorpay(options).open();
        }
        function downloadPDF(){
            html2pdf().from(document.getElementById("resumeContent"))
            .set({
                margin:0.5,
                filename:'resume.pdf',
                html2canvas:{scale:2},
                jsPDF:{unit:'in',format:'a4',orientation:'portrait'}
            }).save();
        }
    </script>
</body>
</html>
