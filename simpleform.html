<!DOCTYPE html>
<html>
<head>
    <title>Form Payment PDF Download</title>

    <!-- Razorpay -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>

    <!-- jsPDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

</head>
<body style="font-family:Arial; padding:40px;">

<h2>Fill Form & Pay to Download PDF</h2>

<form id="userForm">
    <input type="text" id="name" placeholder="Name" required><br><br>
    <input type="email" id="email" placeholder="Email" required><br><br>
    <input type="text" id="course" placeholder="Course" required><br><br>

    <button type="button" onclick="payNow()">Pay â‚¹50 & Download</button>
</form>

<script>
function payNow() {

    var name = document.getElementById("name").value;
    var email = document.getElementById("email").value;
    var course = document.getElementById("course").value;

    if (!name || !email || !course) {
        alert("Please fill all fields");
        return;
    }

    var options = {
        "key": "YOUR_RAZORPAY_KEY_ID",
        "amount": 5000,
        "currency": "INR",
        "name": "PDF Generator",
        "description": "Form PDF Download",
        "handler": function (response) {
            generatePDF(name, email, course);
        },
        "prefill": {
            "name": name,
            "email": email
        }
    };

    var rzp = new Razorpay(options);
    rzp.open();
}

function generatePDF(name, email, course) {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    doc.text("User Details", 20, 20);
    doc.text("Name: " + name, 20, 40);
    doc.text("Email: " + email, 20, 50);
    doc.text("Course: " + course, 20, 60);

    doc.save("details.pdf");
}
</script>

</body>
</html>
